

\part{Getting started}
\label{part:GettingStarted}

\chapter{Overview}

\section{Introduction}

This part of the book will run the reader through the LedgerSMB using an example
startup company run by Jack: Example Inc, which starts its life as a computer parts
store for the business to business market.

Jack just completed incorporation of Example and is ready to start doing business.
Before starting his operation Jack decides to look for tooling to run his operation
efficiently.

The other chapters in this part of the book show you what steps Jack has to go through
to get LedgerSMB up and running for Example, as well as the steps he has to take to
keep LedgerSMB in good health.

Due to its success Example will grow, posing new challenges to LedgerSMB and we'll show
you how Jack can change the configuration to adapt to his growing business's needs.

It's outside the scope of this part to explain how to install the application. See
Part \ref{part:Configuration} for information on installation. \charef{cha:CompanyCreation}
starts when the software has been installed yet nothing more has been done.

\section{LedgerSMB, because...}

Jack finds several tools which suit his requirements to some extent or another.
After evaluation of his options he decides to use LedgerSMB for the following reasons:

\begin{itemize}
\item Centralized data storage
\item Actively developed
\item Development team with security focus
\item Access to the application requires only a web browser
\item Integrated sales, shipping, invoicing, purchasing and accounting
\item Open source solution, so no vendor lock in
\item @@@ others?
\end{itemize}

He'll be running LedgerSMB using the domain he acquired for his business:
\url{http://example.com/}.

\chapter{Creating a company administration}
\label{cha:CompanyCreation}

\section{Using setup.pl}

LedgerSMB comes with a tool called 'setup.pl'. It's the beginning of a web-based
database administration interface to LedgerSMB. This tool can be used to create
company databases as well as backups of existing ones. There's also a command line based
Unix-only setup tool - this tool is covered in the next section.

Please note that while executing the steps described in this section, presentation of
the next screen may take a while after clicking on each button. Some buttons involve
a large amount of processing on the server before the next screen can be presented.

\subsection{Step 1: setup.pl login}

Jack installed LedgerSMB using the default installation instructions, which means
that the url for his setup.pl is \url{https://example.com/ledgersmb/setup.pl}.
\figref{fig:setup-step1} shows the login screen for the tool.

\begin{quotation}
Please note that you can't be logged into the administration tool (setup.pl) and the webapp
through the same browser at the same time in this version of LedgerSMB - due to technicalities.
\end{quotation}

The login screen shows three fields: (a) a user, (b) a password and (c) a database name.

The user name you use to log in needs to be a PostgreSQL super user: a user you can use
to log into the database using the ``psql'' command as well.

The password must be the same as the one used to log in from the command line using the
``psql'' tool or the password you used upon creation using the ``createdb'' tool. Both
``psql'' and ``createdb'' are PostgreSQL tools (not LedgerSMB tools).

The third field is the name of the database to be created, which is the same as the
name of the company to be logged into later on through the login page shown in \figref{fig:login-screen}. The next paragraph discusses this field and its meaning more
in-depth.

\begin{figure}[h]
\includegraphics[width=\linewidth]{dmc-create-step1.png}
\caption{setup.pl login screen}
\label{fig:setup-step1}
\end{figure}

\subsection{Step 2: Company creation}

When creating a company database, there are a few things that are of importance:

\begin{itemize}
\item The name of the database is the same as the name used at login time
\item The name of the database entered (and hence the company name) is case-sensitive
\item The name can't be more than 63 characters long
% \item ### others?
\end{itemize}

After choosing ``example\_inc'' as his company name, Jack clicks the Login button at which
time he's being presented \figref{fig:setup-step2}. The screen says the database doesn't
yet exist and offers its creation. The backup buttons being offered are not useful at this
stage - they have value if the database exists and setup.pl is being used to upgrade
the database; one of its other functionalities.

\begin{figure}[h]
\includegraphics[width=\linewidth]{dmc-create-step2.png}
\caption{setup.pl company creation screen}
\label{fig:setup-step2}
\end{figure}

Jack clicks ``Yes'' to create the database and load it with LedgerSMB's database
schema, authorization rules and stored
procedures\footnote{Parts of the program inside the database.}. It may
take a while (30 seconds or more) for the next screen to appear.

\subsection{Step 3: Selection of a Chart of Accounts}

LedgerSMB comes with numerous predefined charts of accounts. These have been grouped
per country, making the selection of a chart a two-step procedure. setup.pl allows for
users wanting to define their own charts by offering a ``Skip'' button. This button
skips the process of loading a chart.

\begin{quote}
Note that you need to define a chart of accounts before you can meaningfully do anything
inside LedgerSMB.
\end{quote}


\begin{figure}[h]
\includegraphics[width=\linewidth]{dmc-create-step3.png}
\caption{Chart of accounts - Country selection}
\label{fig:setup-step3}
\end{figure}

\begin{figure}[h]
\includegraphics[width=\linewidth]{dmc-create-step4.png}
\caption{Chart of accounts - Chart selection}
\label{fig:setup-step4}
\end{figure}


\subsection{Step 4: First user}

\begin{figure}[h]
\includegraphics[width=\linewidth]{dmc-create-step5.png}
\caption{setup.pl initial user creation screen}
\label{fig:setup-step5}
\end{figure}

\begin{figure}[h]
\includegraphics[width=\linewidth]{dmc-create-step6.png}
\caption{setup.pl succesfull completion screen}
\label{fig:setup-step6}
\end{figure}


\chapter{The first login}

\section{Introduction}

Upon first login it's best to set up the system configuration parameters. This
prevents running into errors due to partial configuration later on.

This chapter assumes you've did not skip loading a chart of accounts in \charef{cha:CompanyCreation}.

\section{Steps to the first login}

\begin{figure}[h]
\includegraphics[width=\linewidth]{dmc-create-final.png}
\caption{login.pl opening screen}
\label{fig:login-screen}
\end{figure}


\subsection{Login screen}

\subsection{Selecting a password}

\subsection{Subsequent logins}


\section{Setting up the system defaults}

This section can only be completely filled out when a chart of accounts has been loaded.

A more elaborate description of the parameters in this section is provided in subsection
\ref{subsec:Defaults}. However, when setting up a new company, it's probably good enough
to fill out these parameters (and thus skip the rest):

\begin{itemize}
\item Business number (e.g. Chamber of commerce number) [12345]
\item Default language [English]
\item Default accounts (Inventory, Expense, Income) [@@@]
\item Foreign exchange result accounts (Foreign exchange gain/loss) [@@@]
\item Default country [US]
\item Templates directory [demo]
\item Currencies [USD:CAD]
\item Default Email From [info@example.com]
\item Company Name [Example Inc.]
\item Company Address [215 Example street - Whereitsat]
\item Company Phone [555 836 22 55]
\item Company Fax (optional) [N/A]
\end{itemize}

Jack enters the values mentioned between the square brackets in the list above. 
He used one of the charts of accounts (CoA) that came with LedgerSMB and therefore
checks the Taxes page in the System menu to see if the percentages that were delivered
with it are still current.

\section{Setting up a bank account or credit card}

As part of the start up activities of his company, Jack comes to an agreement with the
bank for three products:

\begin{itemize}
\item A current account with number ``C54769''
\item Deposit account with number ``D54990''
\item Credit card with a number ending with ``.7734''
\end{itemize}

Most accounting systems - LedgerSMB included - use separate GL accounts to represent
each bank account. This allows easy reconciliation of the ending balance on the bank
account with the balance in the books.

Knowing this, Jack looks up the example bank account from his preconfigured US chart of
accounts using the System $\rightarrow$ Chart of Accounts $\rightarrow$ List Accounts menu as
shown in \figref{fig:bank-setup1}.

\begin{figure}[h]
\includegraphics[width=\linewidth]{setup-bank-account1.png}
\caption{Bank account setup - menu items}
\label{fig:bank-setup1}
\end{figure}



\begin{enumerate}
\item Renames the original account 1060 ``Checking account'' into ``Checking account C54769''
\item Click ``Save''
\item Open the 1060 account again
\label{itm:bank-setup-steps-start}
\item Change the number to 1061
\item Change the description to ``Cash deposit account D54990''
\item Click ``Save as''
\label{itm:bank-setup-steps-end}
\end{enumerate}

Then Jack repeats the steps \ref{itm:bank-setup-steps-start} to \ref{itm:bank-setup-steps-end}
for the credit card with the account number 1062 and description ``Credit card xxxx.xxxx.7734'' to set
up the credit card. \figref{fig:bank-setup2} shows the screen in which to enter the account
details. \secref{sec:AccountOptions} discusses the options in detail - for now using the
settings as configured for the sample checking account will do.

\begin{figure}[h]
\includegraphics[width=\linewidth]{setup-bank-account2.png}
\caption{Bank account setup - account setup screen}
\label{fig:bank-setup2}
\end{figure}




\section{Using create-company-database.sh}

\chapter{Building up stock}

\chapter{Ramping up to the first sale}

% sending out a quote followed by a sales order

\chapter{Shipping sales}

\chapter{Invoicing}

\chapter{Collecting sales invoice payments}

\section{Customer payments}

\section{Customer payment mismatch}

% choosing between pardonning and registering underpayment

% large ones, as in partial payments or largish under/over payments

% pardonning small mismatches


\chapter{Paying vendor invoices}

% handling vendors who match amounts to exact invoices

% handling vendors with running balances

% handling bounced checks: voiding checks to undo payments of vendor invoices
%   relating to bounced checks

\chapter{Monitoring arrears}

% handling interest on arrears

\chapter{Handling sales taxes}

% invoices with taxes included

% invoices with explicit tax amounts

% 

\chapter{Branching out: services}

% including creation / assignment to different accounts


\chapter{Recording service hours}

\chapter{Customer approval on service hours}

\chapter{Invoicing services}

\chapter{Branching out II: service subscriptions}


